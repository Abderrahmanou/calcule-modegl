<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calcule ModeGL</title>

<style>
body{
    background:#0f172a;
    color:white;
    font-family:Arial, Helvetica, sans-serif;
    padding:20px;
}

h1{
    text-align:center;
    color:#38bdf8;
}

.container{
    max-width:800px;
    margin:auto;
}

.module{
    background:#1e293b;
    padding:15px;
    margin:10px 0;
    border-radius:10px;
    display:flex;
    flex-direction:column;
}

.module h3{
    margin:0 0 10px 0;
    color:#38bdf8;
}

.inputs{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
}

input{
    padding:8px;
    border:none;
    border-radius:6px;
    width:100px;
}

.moyenne{
    margin-top:10px;
    font-weight:bold;
    color:#22c55e;
}

.resultat{
    margin-top:20px;
    padding:15px;
    background:#1e293b;
    border-radius:10px;
    text-align:center;
    font-size:18px;
}
</style>
</head>

<body>

<h1>Calcule ModeGL</h1>

<div class="container">

<!-- MODULES -->

<div class="module">
<h3>Base de Donn√©es</h3>
<div class="inputs">
<input type="number" placeholder="CC" oninput="calculer()">
<input type="number" placeholder="Examen" oninput="calculer()">
</div>
<div class="moyenne">Moyenne module : <span class="moyenne-module">--</span></div>
</div>

<div class="module">
<h3>Web Avanc√©</h3>
<div class="inputs">
<input type="number" placeholder="CC" oninput="calculer()">
<input type="number" placeholder="Examen" oninput="calculer()">
</div>
<div class="moyenne">Moyenne module : <span class="moyenne-module">--</span></div>
</div>

<div class="module">
<h3>TP Syst√®me Embarqu√©</h3>
<div class="inputs">
<input type="number" placeholder="CC" oninput="calculer()">
<input type="number" placeholder="Examen" oninput="calculer()">
</div>
<div class="moyenne">Moyenne module : <span class="moyenne-module">--</span></div>
</div>

<div class="module">
<h3>Architecture des Entreprises</h3>
<div class="inputs">
<input type="number" placeholder="Note" oninput="calculer()">
</div>
<div class="moyenne">Moyenne module : <span class="moyenne-module">--</span></div>
</div>

<!-- RESULTAT FINAL -->

<div class="resultat">
Moyenne G√©n√©rale : <span id="moyenne-generale">--</span>
</div>

</div>

<script>
function noteValide(n){
    return !isNaN(n) && n >= 0 && n <= 20;
}

function calculer(){
    const modules = document.querySelectorAll(".module");
    let total = 0;
    let count = 0;

    modules.forEach(module => {
        const inputs = module.querySelectorAll("input");
        const span = module.querySelector(".moyenne-module");
        let moyenne = 0;

        if(inputs.length === 1){
            const note = parseFloat(inputs[0].value);
            if(!noteValide(note)){
                span.textContent = "--";
                return;
            }
            moyenne = note;
        } else {
            const cc = parseFloat(inputs[0].value);
            const exam = parseFloat(inputs[1].value);

            if(!noteValide(cc) || !noteValide(exam)){
                span.textContent = "--";
                return;
            }

            const titre = module.querySelector("h3").textContent;

            // üîµ R√®gle sp√©ciale
            if(titre === "Web Avanc√©" || titre === "TP Syst√®me Embarqu√©"){
                moyenne = cc * 0.5 + exam * 0.5;
            } else {
                moyenne = cc * 0.34 + exam * 0.66;
            }
        }

        span.textContent = moyenne.toFixed(2);
        total += moyenne;
        count++;
    });

    const moyenneGenerale = count > 0 ? (total / count).toFixed(2) : "--";
    document.getElementById("moyenne-generale").textContent = moyenneGenerale;
}
</script>

</body>
</html>
